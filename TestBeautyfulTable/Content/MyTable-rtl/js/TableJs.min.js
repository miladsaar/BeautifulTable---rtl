var trVisibleList, countPages, btnSelect = "", btn = ""; function TableJs(t) { MakeTableList(t), LoadPager(t) } function HasHeader(t) { return null != $("#" + t).has("thead").html() } function MakeTableList(t) { var a = $("#" + t + " tr"); trVisibleList = new Array; var e = 3, n = 2; HasHeader(t) || (n = e = 0); for (var r = 0; r < a.length - e; r++) trVisibleList[r] = r + n } function FindCountPages(t) { var a = trVisibleList.length, e = parseInt($("#" + t + "countItemsInPage").val()); countPages = Math.ceil(a / e) } function FilterCol(t) { var a, e, n = $(t).val().toUpperCase(), r = "#" + $(t).parents("table").attr("id") + " tr", s = $(r), l = "#" + $(t).parents("table").attr("id") + " select[name ='search'] option:selected", i = $(l).index(); trVisibleList = new Array; var o = -1; for (e = 1; e < s.length; e++) (a = s[e].getElementsByTagName("td")[i]) && -1 < a.innerHTML.toUpperCase().indexOf(n) && (trVisibleList[++o] = e); $("#currentPage").val(1), LoadPager($(t).parents("table").attr("id")) } function GoPrevious(t) { var a = "#" + $(t).parents("table").attr("id") + "currentPage", e = $(a).val(); 1 < e && GoToPage(--e, t) } function GoNext(t) { var a = "#" + $(t).parents("table").attr("id") + "currentPage", e = parseInt($(a).val()); e < countPages && GoToPage(++e, t) } function GoToPage(t, a) { var e = "#" + $(a).parents("table").attr("id") + "currentPage", n = "#page" + $(e).val(); $(n).removeClass().addClass(btnSelect), $("#page" + t).removeClass().addClass(btn), $(e).val(t), t--; var r = "#" + $(a).parents("table").attr("id") + "countItemsInPage", s = t * parseInt($(r).val()), l = "#" + $(a).parents("table").attr("id") + "maxPageInline", i = parseInt($(l).val()), o = $(a).parents("table").attr("id"); i < countPages && LoadPager(o), ShowRowsTable(s, o) } function ShowRowsTable(t, a) { var e = HasHeader(a), n = "#" + a + " tr"; $(n).hide(); for (var r, s = parseInt(t), l = s + parseInt($("#" + a + "countItemsInPage").val()), i = s; i < l; i++) r = trVisibleList[i], $(n).eq(r).show(); $(n).eq(0).show(); var o = 1; e && ($(n).eq(1).show(), o = 0); var b = $("#" + a + "footerRow").val() - o; $(n).eq(b).show() } function ReloadPager(t) { var a = $(t).parents("table").attr("id"), e = parseInt($("#" + a + " input[name='rowsNumber']").val()), n = "#" + $(t).parents("table").attr("id") + "countItemsInPage"; $(n).val(e); var r = "#" + $(t).parents("table").attr("id") + "currentPage"; $(r).val("1"), LoadPager(a) } function LoadPager(t) { var a = 0, e = "", n = parseInt($("#" + t + "currentPage").val()); FindCountPages(t); var r = n - 1, s = countPages, l = parseInt($("#" + t + "maxPageInline").val()), i = "#" + t + " div[name='pages']"; l <= countPages && (l < countPages - n + 1 ? (s = r + l, a = n - 1) : a = (s = countPages) - l), $(i).empty(), 1 < countPages && $(i).append("<a class='btn btn-warning prvButton' href='#'onclick='GoPrevious(this)'><span> Prev</span></a>"); for (var o = a; o < s; o++) { var b = o + 1; e = "<a class='btn " + SetBtn(n, o, t) + "' href='#'onclick='GoToPage(" + b + ",this)'Id='" + t + "page" + b + "'>" + b + "</a>", $(i).append(e) } $("#page1").removeClass().addClass(btnSelect), 1 < countPages && $(i).append("<a class='btn btn-warning nextButton' href='#' onclick='GoNext(this)'><span>Next</span></a>"), ShowRowsTable(0, t) } function SetBtn(t, a, e) { var n = "", r = "#" + e, s = "#" + e + " input[name='btnDone']"; return $(r).hasClass("orange-table") ? (n = t - 1 == a ? "btn-danger" : "btn-outline-danger", btnSelect = "btn btn-danger", btn = "btn-outline-danger", $(s).removeClass().addClass("input btn btn-lg btn-outline-danger")) : $(r).hasClass("blue-table") ? (n = t - 1 == a ? "btn-primary" : "btn-outline-primary", btnSelect = "btn btn-primary", btn = "btn-outline-primary", $(s).removeClass().addClass("input btn btn-lg btn-outline-primary")) : $(r).hasClass("dark-table") ? (n = t - 1 == a ? "btn-dark" : "btn-outline-dark", btnSelect = "btn btn-dark", btn = "btn-outline-dark", $(s).removeClass().addClass("input btn btn-lg btn-outline-dark")) : $(r).hasClass("black-table") ? (n = t - 1 == a ? "btn-warning" : "btn-outline-warning", btnSelect = "btn btn-warning", btn = "btn-outline-warning", $(s).removeClass().addClass("input btn btn-lg btn-outline-dark")) : $(r).hasClass("white-table") && (n = t - 1 == a ? "btn-dark" : "btn-outline-dark", btnSelect = "btn btn-dark", btn = "btn-outline-dark", $(s).removeClass().addClass("input btn btn-lg btn-outline-dark")), n } $(window).load(function () { $("#lodingOverlay").hide() });